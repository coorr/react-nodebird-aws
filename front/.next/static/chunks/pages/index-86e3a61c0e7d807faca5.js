_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{RXBc:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return p}));var c=n("q1tI"),i=n("/MKj"),r=n("1kws"),a=n("ODXe"),o=n("Vl3Y"),l=n("5rEg"),s=n("2/Rp"),u=n("Tgth"),d=n("teGV"),j=(n("oHge"),n("nKUr")),f=function(){var e=Object(i.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,r=e.addPostLoading,f=Object(i.b)(),b=Object(u.a)(""),p=Object(a.a)(b,3),O=p[0],h=p[1],m=p[2];Object(c.useEffect)((function(){n&&m("")}),[n]);var g=Object(c.useCallback)((function(){if(!O||!O.trim())return alert("\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud558\uc138\uc694.");var e=new FormData;return t.forEach((function(t){e.append("image",t)})),e.append("content",O),f({type:d.e,data:e})}),[O,t]),w=Object(c.useRef)(),v=Object(c.useCallback)((function(){w.current.click()}),[w.current]),x=Object(c.useCallback)((function(e){var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append("image",e)})),f({type:d.G,data:t})})),E=Object(c.useCallback)((function(e){return function(){f({type:d.y,data:e})}}));return Object(j.jsxs)(o.a,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:g,children:[Object(j.jsx)(l.a.TextArea,{value:O,onChange:h,maxLength:140,placeholder:"\uc5b4\ub5a4 \uc2e0\uae30\ud55c \uc77c\uc774 \uc788\uc5c8\ub098\uc694?"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:w,onChange:x}),Object(j.jsx)(s.a,{onClick:v,children:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"}),Object(j.jsx)(s.a,{type:"primary",style:{float:"right"},htmlType:"submit",loading:r,children:"\uca31\uca31"})]}),Object(j.jsx)("div",{children:t.map((function(e,t){return Object(j.jsxs)("div",{style:{display:"inline-block"},children:[Object(j.jsx)("img",{src:e,style:{width:"200px"},alt:e}),Object(j.jsx)("div",{children:Object(j.jsx)(s.a,{onClick:E(t),children:"\uc81c\uac70"})})]},e)}))})]})},b=n("SfDe"),p=!0;t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})).me,n=Object(i.c)((function(e){return e.post})),a=n.mainPosts,o=n.hasMorePost,l=n.loadPostsLoading,s=n.retweetError;return Object(c.useEffect)((function(){s&&alert(s)}),[s]),Object(c.useEffect)((function(){function t(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-200&&o&&!l){var t,n=null===(t=a[a.length-1])||void 0===t?void 0:t.id;console.log(n),e({type:d.n,lastId:n})}}return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[o,l,a]),Object(j.jsxs)(r.a,{children:[t&&Object(j.jsx)(f,{}),a.map((function(e){return Object(j.jsx)(b.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RXBc")}])}},[["vlRD",0,2,5,7,1,3,4,6,8]]]);